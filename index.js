import"./assets/footer-Cw73Jzmf.js";const I=document.querySelectorAll(".home-slides"),ie=document.querySelectorAll(".home-dot"),y=document.createElement("div");y.classList.add("home-popup");y.innerHTML=`
  <div class="home-popup-content">
    <span class="home-popup-close">&times;</span>
    <h2>ORDER NOW</h2>
    <form class="home-popup-form">
      <label for="name">Name</label>
      <input type="text" id="name" name="name"  required />
      <label for="phone">Phone number</label>
      <input type="tel" id="phone" name="phone"  required />
      <label for="email">Email</label>
      <input type="email" id="email" name="email"  required />
      <label for="comment">Comment</label>
      <textarea id="comment" name="comment" ></textarea>
      <button type="submit">Send</button>
    </form>
  </div>
`;document.body.appendChild(y);function ye(){y.style.display="flex"}function se(){y.style.display="none"}const be=document.querySelector(".home-hero-btn");be.addEventListener("click",ye);const we=y.querySelector(".home-popup-close");we.addEventListener("click",se);y.addEventListener("click",e=>{e.target===y&&se()});let m=0;function H(e){I.forEach((t,n)=>{t.classList.toggle("active",n===e)}),ie.forEach((t,n)=>{t.classList.toggle("active",n===e)})}ie.forEach((e,t)=>{e.addEventListener("click",()=>{m=t,H(m)})});const Le=document.querySelectorAll(".home-slide-partial"),$e=document.querySelectorAll(".home-slide.small");Le.forEach(e=>{e.addEventListener("click",()=>{m=(m+1)%I.length,H(m)})});$e.forEach(e=>{e.addEventListener("click",()=>{m=(m-1+I.length)%I.length,H(m)})});H(m);const M="https://tasty-treats-backend.p.goit.global/api";async function ke(){return await(await fetch(`${M}/categories`)).json()}async function w({category:e="",page:t=1,limit:n=6,time:s="",area:o="",ingredient:i=""}={}){const a=new URL(`${M}/recipes`);return e&&a.searchParams.append("category",e),t&&a.searchParams.append("page",t),n&&a.searchParams.append("limit",n),s&&a.searchParams.append("time",s),o&&a.searchParams.append("area",o),i&&a.searchParams.append("ingredient",i),await(await fetch(a)).json()}async function oe(){return await(await fetch(`${M}/recipes/popular`)).json()}async function Ee(){return await(await fetch(`${M}/ingredients`)).json()}async function Se(){return await(await fetch(`${M}/areas`)).json()}const z="favoriteRecipes";function D(){const e=localStorage.getItem(z);return e?JSON.parse(e):[]}function Ce(e){const t=D();t.some(n=>n._id===e._id)||(t.push(e),localStorage.setItem(z,JSON.stringify(t)))}function Te(e){let t=D();t=t.filter(n=>n._id!==e),localStorage.setItem(z,JSON.stringify(t))}function j(e){return D().some(n=>n._id===e)}function Ae(e){j(e._id)?Te(e._id):Ce(e)}const Z=document.querySelector("#recipes-container"),E=document.querySelector("#pagination"),R=document.querySelector("#category-list"),S=document.querySelector(".categories-box");let P=[],u=1,L=1,b=null,k=U();function xe(e){const t=e.rating/5*100,n=j(e._id)?"active":"";return`
    <div class="recipe-card" data-id="${e._id}">
      <button class="heart-btn ${n}" aria-label="Favorite status">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
        </svg>
      </button>
      <img class="recipe-card-image" src="${e.thumb||e.preview}" alt="${e.title}" loading="lazy">
      <div class="recipe-card-details">
        <h3 class="recipe-card-title">${e.title}</h3>
        <p class="recipe-card-description">${e.description}</p>
        <div class="recipe-card-footer">
          <div class="recipe-card-rating">
            <span class="rating-value">${e.rating.toFixed(1)}</span>
            <div class="rating-stars" style="--rating: ${t}%">
              <span>★★★★★</span><span class="stars-filled">★★★★★</span>
            </div>
          </div>
          <button class="recipe-card-button" type="button">See recipe</button>
        </div>
      </div>
    </div>`}function Me(e,t){if(!e||e.length===0){t.innerHTML="<p>No recipes found to display.</p>";return}const n=e.map(xe).join("");t.innerHTML=`<div class="recipes-list">${n}</div>`,t.querySelectorAll(".heart-btn").forEach(s=>{s.addEventListener("click",()=>{const i=s.closest(".recipe-card").dataset.id,a=e.find(c=>c._id===i);a&&(Ae(a),s.classList.toggle("active"),a.isFavorite=j(i))})}),t.querySelectorAll(".recipe-card-button").forEach(s=>{s.addEventListener("click",()=>{const i=s.closest(".recipe-card").dataset.id;console.log(`Open recipe details for: ${i}`)})})}const N={first:"<<",prev:"<",next:">",last:">>"};function qe(e,t){if(!E||(E.innerHTML="",e<=1))return;const n=document.createDocumentFragment(),s=(c,d,f=!1)=>{const v=document.createElement("button");return v.innerHTML=c,v.className=d,f&&(v.disabled=!0),v};n.appendChild(s(N.first,"pagination-btn first",t===1)),n.appendChild(s(N.prev,"pagination-btn prev",t===1));const o=new Set([1,e,t]);t>1&&o.add(t-1),t<e&&o.add(t+1);const i=Array.from(o).filter(c=>c>0&&c<=e).sort((c,d)=>c-d);let a=0;for(const c of i){if(a&&c>a+1){const f=document.createElement("span");f.textContent="...",f.className="pagination-ellipsis",n.appendChild(f)}const d=s(c,"pagination-btn number");c===t&&d.classList.add("active"),n.appendChild(d),a=c}n.appendChild(s(N.next,"pagination-btn next",t===e)),n.appendChild(s(N.last,"pagination-btn last",t===e)),E.appendChild(n)}async function q(e=1){try{k=U();const t=b?await w({category:b,page:1,limit:1e3}):await w({page:1,limit:1e3}),n=t.totalResults||t.results.length,s=b?await w({page:e,limit:k,category:b}):await w({page:e,limit:k});L=Math.ceil(n/k),u=e>L?L:e,P=(s.results||[]).map(o=>({...o,isFavorite:j(o._id)})),Me(P,Z),qe(L,u)}catch(t){console.error("Error loading recipes:",t),Z.innerHTML="<p>Recipes could not be loaded.</p>",E.innerHTML=""}}async function Fe(){try{const e=await ke();R.innerHTML=e.map(t=>`
      <li><button class="category-btn ${t.name===b?"active":""}" data-category="${t.name}">${t.name}</button></li>
    `).join("")}catch(e){console.error("Failed to load categories:",e)}}R.addEventListener("click",e=>{const t=e.target.closest(".category-btn");t&&(b=t.dataset.category,u=1,R.querySelectorAll(".category-btn").forEach(n=>n.classList.remove("active")),S&&S.classList.remove("active"),t.classList.add("active"),q(u))});S&&S.addEventListener("click",()=>{b=null,u=1,S.classList.add("active"),R.querySelectorAll(".category-btn").forEach(e=>e.classList.remove("active")),q(u)});E.addEventListener("click",e=>{const t=e.target.closest("button");if(!t)return;let n=u;switch(!0){case t.classList.contains("first"):n=1;break;case t.classList.contains("prev"):n=u-1;break;case t.classList.contains("next"):n=u+1;break;case t.classList.contains("last"):n=L;break;case t.classList.contains("number"):n=Number(t.textContent);break}n>=1&&n<=L&&(u=n,q(u))});window.addEventListener("resize",Ne(()=>{U()!==k&&(u=1,q(u))}));Fe();q();function Ne(e,t=250){let n;return function(...s){clearTimeout(n),n=setTimeout(()=>e.apply(this,s),t)}}function U(){const e=window.innerWidth;return e<768?6:e<1280?8:9}const _=document.querySelector(".popular-recipe-wrapper");console.log(oe());async function _e(){try{_.innerHTML="<p>Loading recipes...</p>";const e=await oe();if(!e||e.length===0){_.innerHTML="<p>No popular recipes found!</p>";return}const t=e.map(n=>`
    <div class="popular-recipes-card" data-id="${n._id}">
    <img class="popular-recipes-image" src="${n.preview}" alt="${n.title}" />
    <div class="popular-recipes-info">
    <h3 class="popular-recipes-title recipe-title">${n.title}</h3>
      <p class="popular-recipes-description popular-recipe-text ">${n.description}</p>
      </div>
    </div>
  `).join("");_.innerHTML=t}catch(e){console.error("Failed to fetch popular recipes:",e),_.innerHTML="<p>Sorry, we could not load the recipes at this time</p>"}}_e();const p=document.querySelector(".filters");p||console.warn("[filters] .filters bulunamadı.");const g=document.getElementById("pagination-filters")||document.getElementById("pagination"),l={search:p==null?void 0:p.querySelector(".filter-input"),searchBtn:p==null?void 0:p.querySelector(".search-btn"),resetBtn:p==null?void 0:p.querySelector(".reset-filter"),dropdowns:[...(p==null?void 0:p.querySelectorAll(".custom-dropdown"))??[]],recipes:document.getElementById("recipes-flex")},h={grid:document.getElementById("recipes-container"),pagination:document.getElementById("pagination")},O=!!l.recipes,r={query:"",time:"",area:"",ingredient:"",ingredientLabel:"",page:1,limit:6,loading:!1,lastItems:[],favs:new Set},ae="tt:favorites",Be=()=>{try{return new Set(JSON.parse(localStorage.getItem(ae)||"[]"))}catch{return new Set}},re=e=>{localStorage.setItem(ae,JSON.stringify([...e]))},le=e=>r.favs.has(e),Ie=e=>{if(!e)return null;const t=r.favs.has(e);return t?r.favs.delete(e):r.favs.add(e),re(r.favs),!t};r.favs=Be();function Re(){const e=[...r.favs].filter(t=>t&&t!=="null"&&t!=="undefined");e.length!==r.favs.size&&(r.favs=new Set(e),re(r.favs))}function ce(e=document){e.querySelectorAll(".heart-btn").forEach(n=>{var i,a;const s=(a=(i=n.closest("[data-id]"))==null?void 0:i.dataset.id)==null?void 0:a.trim(),o=!!s&&le(s);n.classList.toggle("active",o)})}Re();const He=["10 min","20 min","30 min","40 min"];function ee(e){r.loading=e,!(!O||!l.recipes)&&e&&(l.recipes.innerHTML='<div class="recipes-loading">Loading...</div>')}const je=1e4,Oe=(e,t=je)=>Promise.race([e,new Promise((n,s)=>setTimeout(()=>s(new Error("REQUEST_TIMEOUT")),t))]);function ze(e){const t=String(e).match(/\d+/);return t?t[0]:""}function J(e){l.dropdowns.forEach(t=>{t!==e&&t.classList.remove("open")})}function C(e){return String(e).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#39;")}function de(){const e=window.innerWidth||1200;return e>=1024?9:e>=768?8:6}function De(){return!!(r.query||r.time||r.area||r.ingredient)}function Ue(){h.grid&&(h.grid.style.display="none"),h.pagination&&(h.pagination.style.display="none"),l.recipes&&(l.recipes.style.display=""),g&&(g.style.display=""),document.dispatchEvent(new CustomEvent("filters:activate"))}function Je(){l.recipes&&(l.recipes.style.display="none"),g&&(g.style.display="none"),h.grid&&(h.grid.style.display=""),h.pagination&&(h.pagination.style.display=""),document.dispatchEvent(new CustomEvent("filters:deactivate"))}function Ve(e,t){if(!g)return;e=Math.max(1,Number(e)||1),t=Math.min(e,Math.max(1,Number(t)||1));const n=1,s="pagination-btn arrow-btn arrow-prev",o="pagination-btn arrow-btn arrow-next";let i=`
    <button class="${s}" data-page="1" ${t===1?"disabled":""}>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline></svg>
    </button>
    <button class="${s}" data-page="${t-1}" ${t===1?"disabled":""}>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
    </button>
  `;if(e>1){t>n+2&&(i+='<button class="pagination-btn page-btn" data-page="1">1</button>',i+='<button class="pagination-btn dots" disabled>...</button>');for(let a=Math.max(1,t-n);a<=Math.min(e,t+n);a++)a===1&&t>n+2||a===e&&t<e-n-1||(i+=`<button class="pagination-btn page-btn ${a===t?"active":""}" data-page="${a}">${a}</button>`);t<e-n-1&&(i+='<button class="pagination-btn dots" disabled>...</button>',i+=`<button class="pagination-btn page-btn" data-page="${e}">${e}</button>`)}i+=`
    <button class="${o}" data-page="${t+1}" ${t===e?"disabled":""}>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
    </button>
    <button class="${o}" data-page="${e}" ${t===e?"disabled":""}>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline></svg>
    </button>
  `,g.innerHTML=e<=1?"":i}function pe(e){if(!l.recipes)return;const t=de(),n=Array.isArray(e)?e.slice(0,t):[];if(!n.length){l.recipes.innerHTML="";return}const s=n.map(o=>{const{_id:i,title:a="Untitled",description:c="",rating:d=0,preview:f,thumb:v}=o,F=f||v||"",Q=C(a),G=C(c),X=Number(d)||0,ve=Math.max(0,Math.min(100,X/5*100)),he=le(i)?"active":"";return`
      <div class="recipe-card" data-id="${i||""}">
        <button class="heart-btn ${he}" aria-label="Add to favorites">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
               viewBox="0 0 24 24" fill="none" stroke="currentColor"
               stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
          </svg>
        </button>

        ${F?`<img class="recipe-card-image" src="${F}" alt="${Q}" loading="lazy">`:""}

        <div class="recipe-card-details">
          <h3 class="recipe-card-title">${Q}</h3>
          ${G?`<p class="recipe-card-description">${G}</p>`:""}

          <div class="recipe-card-footer">
            <div class="recipe-card-rating">
              <span class="rating-value">${X.toFixed(1)}</span>
              <div class="rating-stars" style="--rating:${ve}%">
                <span>★★★★★</span>
                <span class="stars-filled">★★★★★</span>
              </div>
            </div>
            <button class="recipe-card-button" type="button">See recipe</button>
          </div>
        </div>
      </div>`}).join("");l.recipes.innerHTML=s,ce(l.recipes)}async function x(){try{if(!De()){Je();return}Ue(),ee(!0);const e=de();r.limit=e;const{time:t,area:n,ingredient:s,page:o}=r,i=await Oe(w({time:t,area:n,ingredient:s,page:o,limit:e})),a=Array.isArray(i==null?void 0:i.results)?i.results:Array.isArray(i)?i:Array.isArray(i==null?void 0:i.recipes)?i.recipes:[],c=r.query.toLowerCase(),d=c?a.filter(f=>String(f.title||"").toLowerCase().includes(c)):a;if(r.lastItems=d,O){if(pe(d.slice(0,e)),g){const f=Number(i==null?void 0:i.totalPages)||Number(i==null?void 0:i.pageCount)||0,v=Number(i==null?void 0:i.total)||Number(i==null?void 0:i.count)||Number(i==null?void 0:i.resultsCount)||Number(i==null?void 0:i.hits)||(Array.isArray(i==null?void 0:i.results)?i.results.length:0),F=f||Math.max(1,Math.ceil((v||d.length)/e));Ve(F,r.page)}!d.length&&l.recipes&&(l.recipes.innerHTML='<p class="no-results">No recipes found</p>')}document.dispatchEvent(new CustomEvent("recipes:filtered",{detail:{recipes:d,paging:{page:o,limit:e},raw:i}}))}catch(e){console.error("[filters] applyFilters error:",(e==null?void 0:e.message)||e),O&&l.recipes&&(l.recipes.innerHTML=(e==null?void 0:e.message)==="REQUEST_TIMEOUT"?'<p class="no-results">İstek zaman aşımına uğradı. Lütfen tekrar deneyin.</p>':'<p class="no-results">Bir şeyler ters gitti. Lütfen tekrar deneyin.</p>'),document.dispatchEvent(new CustomEvent("recipes:filtered",{detail:{recipes:[],error:!0,reason:(e==null?void 0:e.message)||String(e)}}))}finally{ee(!1)}}async function We(){$("time",He.map(e=>({value:ze(e),label:e})));try{const e=await Se(),t=(Array.isArray(e)?e:[]).map(n=>typeof n=="string"?n:n==null?void 0:n.name).filter(Boolean).map(n=>({value:n,label:n}));$("area",t)}catch(e){console.error("Areas yüklenemedi",e),$("area",[])}try{const e=await Ee(),t=(Array.isArray(e)?e:[]).filter(n=>(n==null?void 0:n._id)&&(n==null?void 0:n.name)).map(n=>({value:n._id,label:n.name}));$("ingredient",t)}catch(e){console.error("Ingredients yüklenemedi",e),$("ingredient",[])}}function $(e,t){const n=l.dropdowns.find(i=>i.dataset.type===e);if(!n)return;const s=n.querySelector(".dropdown-menu"),o=n.querySelector(".dropdown-toggle");!s||!o||(s.innerHTML=(t||[]).map(i=>`<li><button type="button" data-value="${C(i.value)}" data-label="${C(i.label)}">${C(i.label)}</button></li>`).join(""),o.addEventListener("click",()=>{const i=!n.classList.contains("open");J(),n.classList.toggle("open",i)}),s.addEventListener("click",i=>{const a=i.target.closest("button[data-value]");if(!a)return;const c=a.getAttribute("data-value")??"",d=a.getAttribute("data-label")??a.textContent.trim();e==="time"?r.time=c:e==="area"?r.area=d:e==="ingredient"&&(r.ingredient=c,r.ingredientLabel=d),o.textContent=d,n.classList.remove("open"),r.page=1,x()}))}document.addEventListener("click",e=>{const t=e.target.closest(".custom-dropdown");if(!t)return J();l.dropdowns.forEach(n=>{n!==t&&n.classList.remove("open")})});document.addEventListener("keydown",e=>{e.key==="Escape"&&J()});function Ke(){if(!l.search||!l.searchBtn)return;const e=()=>{r.query=l.search.value.trim(),r.page=1,x()};l.searchBtn.addEventListener("click",e),l.search.addEventListener("keydown",t=>{t.key==="Enter"&&(t.preventDefault(),e())})}const ue={};(l.dropdowns||[]).forEach(e=>{const t=e.dataset.type,n=e.querySelector(".dropdown-toggle");t&&n&&(ue[t]=n.getAttribute("data-default")||n.textContent.trim())});function Ye(){l.resetBtn&&l.resetBtn.addEventListener("click",()=>{r.query="",r.time="",r.area="",r.ingredient="",r.ingredientLabel="",r.page=1,l.search&&(l.search.value=""),(l.dropdowns||[]).forEach(e=>{const t=e.dataset.type,n=e.querySelector(".dropdown-toggle"),s=e.querySelector(".dropdown-menu");n&&(n.textContent=ue[t]||"Select"),s==null||s.querySelectorAll(".selected").forEach(o=>o.classList.remove("selected")),e.classList.remove("open")}),x()})}(async function(){var t;try{l.recipes&&(l.recipes.classList.add("recipes-list"),l.recipes.style.display="none"),g&&(g.style.display="none"),await We(),Ke(),Ye(),await x(),ce(),g&&g.addEventListener("click",n=>{const s=n.target.closest(".pagination-btn");if(!s||s.classList.contains("dots"))return;const o=parseInt(s.dataset.page,10);!isNaN(o)&&o!==r.page&&(r.page=o,x())}),document.addEventListener("click",n=>{var c;const s=n.target.closest(".heart-btn");if(!s)return;const o=s.closest("[data-id]"),i=(c=o==null?void 0:o.dataset.id)==null?void 0:c.trim();if(!i){console.warn("[favorites] data-id bulunamadı; işlem yapılmadı.");return}const a=Ie(i);a!==null&&s.classList.toggle("active",a)}),(t=document.querySelector('.nav-link[href="./favorites.html"]'))==null||t.addEventListener("click",()=>{console.log("Favorites link clicked, redirecting...")}),document.addEventListener("click",n=>{const s=n.target.closest(".recipe-card-button");if(s){const o=s.closest(".recipe-card"),i=o==null?void 0:o.dataset.id;i&&console.log("Recipe clicked:",i)}}),window.addEventListener("resize",()=>{var n;(n=r.lastItems)!=null&&n.length&&pe(r.lastItems)})}catch(n){console.error("[filters] init error:",n),l.recipes&&(l.recipes.innerHTML='<p class="no-results">Bir şeyler ters gitti. Lütfen tekrar deneyin.</p>')}})();const fe="favoriteRecipes";function ge(){try{return JSON.parse(localStorage.getItem(fe))||[]}catch{return[]}}function te(e){localStorage.setItem(fe,JSON.stringify(e))}function Qe(e){const t=ge();if(t.some(s=>s._id===e._id)){const s=t.filter(o=>o._id!==e._id);te(s)}else t.push(e),te(t)}function Ge(e){return ge().some(n=>n._id===e)}const V=document.querySelector("#recipes-container"),W=document.querySelector("#pagination");let T=[],A=1,ne=1,B=Y();function Xe(e){const t=e.rating/5*100,n=Ge(e._id)?"active":"";return`
    <div class="recipe-card" data-id="${e._id}">
      <button class="heart-btn ${n}" aria-label="Add to favorites">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
        </svg>
      </button>
      <img class="recipe-card-image" src="${e.thumb}" alt="${e.title}" loading="lazy">
      <div class="recipe-card-details">
        <h3 class="recipe-card-title">${e.title}</h3>
        <p class="recipe-card-description">${e.description}</p>
        <div class="recipe-card-footer">
          <div class="recipe-card-rating">
            <span class="rating-value">${e.rating.toFixed(1)}</span>
            <div class="rating-stars" style="--rating: ${t}%">
              <span>★★★★★</span><span class="stars-filled">★★★★★</span>
            </div>
          </div>
          <button class="recipe-card-button" type="button">See recipe</button>
        </div>
      </div>
    </div>`}function me(){if(!T||T.length===0)return;const e=T.map(Xe).join("");V.innerHTML=e}async function K(e=1){try{B=Y();const t=await w({page:e,limit:B});T=t.results,ne=t.totalPages||Math.ceil(t.totalResults/B),me(),Ze(ne,e)}catch(t){console.error("An error occurred while loading recipes:",t),V.innerHTML="<p>The recipes could not be loaded. Please try again later.</p>",W.innerHTML=""}}V.addEventListener("click",e=>{const t=e.target.closest(".heart-btn");if(!t)return;const s=t.closest(".recipe-card").dataset.id,o=T.find(i=>i._id===s);o&&(Qe(o),me())});W.addEventListener("click",e=>{const t=e.target.closest(".pagination-btn");if(!t||t.disabled||!t.dataset.page)return;const n=Number(t.dataset.page);n!==A&&(A=n,K(A))});function Ze(e,t){let n="";const o="pagination-btn arrow-btn arrow-prev",i="pagination-btn arrow-btn arrow-next";if(n+=`<button class="${o}" data-page="1" ${t===1?"disabled":""}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline></svg></button>`,n+=`<button class="${o}" data-page="${t-1}" ${t===1?"disabled":""}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></button>`,e>1){t>3&&(n+='<button class="pagination-btn page-btn" data-page="1">1</button>',n+='<button class="pagination-btn dots">...</button>');for(let a=Math.max(1,t-1);a<=Math.min(e,t+1);a++)a===1&&t>3||a===e&&t<e-1-1||(n+=`<button class="pagination-btn page-btn ${a===t?"active":""}" data-page="${a}">${a}</button>`);t<e-1-1&&(n+='<button class="pagination-btn dots">...</button>',n+=`<button class="pagination-btn page-btn" data-page="${e}">${e}</button>`)}n+=`<button class="${i}" data-page="${t+1}" ${t===e?"disabled":""}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></button>`,n+=`<button class="${i}" data-page="${e}" ${t===e?"disabled":""}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline></svg></button>`,W.innerHTML=n}const Pe=et(()=>{Y()!==B&&(A=1,K(A))});window.addEventListener("resize",Pe);K();function et(e,t=250){let n;return function(...s){clearTimeout(n),n=setTimeout(()=>{e.apply(this,s)},t)}}function Y(){const e=window.innerWidth;return e>=1440?16:e>=1280&&e<1440?9:e>=768&&e<1280?8:6}
//# sourceMappingURL=index.js.map
