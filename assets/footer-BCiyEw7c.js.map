{"version":3,"file":"footer-BCiyEw7c.js","sources":["../../src/js/header.js","../../src/utils/localFavorites.js","../../src/js/recipeModal.js","../../src/js/footer.js"],"sourcesContent":["\nconst menuIcon = document.getElementById('menu-icon');\nconst navMenu = document.getElementById('nav-menu');\nconst navCloseBtn = document.getElementById('nav-close-btn');\nconst desktopToggle = document.getElementById('desktop-toggle'); \nconst mobileToggle = document.getElementById('mobile-toggle'); \n\n\nfunction setTheme(dark) {\n  if (dark) {\n    document.body.setAttribute('data-theme', 'dark');\n    localStorage.setItem('theme', 'dark');\n  } else {\n    document.body.removeAttribute('data-theme');\n    localStorage.setItem('theme', 'light');\n  }\n}\n\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  const savedTheme = localStorage.getItem('theme');\n  if (savedTheme === 'dark') {\n    document.body.setAttribute('data-theme', 'dark');\n    desktopToggle?.classList.add('active');\n    mobileToggle?.classList.add('active');\n  }\n});\n\n\nmenuIcon.addEventListener('click', () => {\n  navMenu.classList.add('active');\n});\n\nnavCloseBtn.addEventListener('click', () => {\n  navMenu.classList.remove('active');\n});\n\n\nif (desktopToggle) {\n  desktopToggle.addEventListener('click', () => {\n    desktopToggle.classList.toggle('active');\n    setTheme(document.body.getAttribute('data-theme') !== 'dark');\n  });\n}\n\n\nif (mobileToggle) {\n  mobileToggle.addEventListener('click', () => {\n    mobileToggle.classList.toggle('active');\n    setTheme(document.body.getAttribute('data-theme') !== 'dark');\n  });\n}\n\n\nwindow.addEventListener('resize', () => {\n  if (window.innerWidth > 768) {\n    navMenu.classList.remove('active');\n  }\n});","const FAVORITES_KEY = 'favoriteRecipes';\n\nexport function getFavorites() {\n  try {\n    return JSON.parse(localStorage.getItem(FAVORITES_KEY)) || [];\n  } catch (e) {\n    return [];\n  }\n}\n\nexport function saveFavorites(favorites) {\n  localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));\n}\n\nexport function toggleFavorite(recipe) {\n  const favorites = getFavorites();\n  const exists = favorites.some(fav => fav._id === recipe._id);\n\n  if (exists) {\n    const updated = favorites.filter(fav => fav._id !== recipe._id);\n    saveFavorites(updated);\n  } else {\n    favorites.push(recipe);\n    saveFavorites(favorites);\n  }\n}\n\nexport function isFavorite(recipeId) {\n  const favorites = getFavorites();\n  return favorites.some(fav => fav._id === recipeId);\n}\n","import { toggleFavorite, isFavorite } from '../utils/localFavorites.js';\n\nconst API_BASE = 'https://tasty-treats-backend.p.goit.global/api';\n\nfunction $(sel, root = document) {\n  return root.querySelector(sel);\n}\nfunction createEl(tag, attrs = {}) {\n  const el = document.createElement(tag);\n  for (const [k, v] of Object.entries(attrs)) el.setAttribute(k, v);\n  return el;\n}\n\nfunction lockScroll() {\n  document.body.style.overflow = 'hidden';\n}\nfunction unlockScroll() {\n  document.body.style.overflow = '';\n}\n\nasync function fetchRecipeById(id) {\n  const res = await fetch(`${API_BASE}/recipes/${id}`);\n  if (!res.ok) throw new Error('Recipe not found');\n  return res.json();\n}\n\n/* ==================== CSS inject ==================== */\nconst cssText = `\n:root{\n  --rm-radius:16px; --rm-shadow:0 20px 60px rgba(0,0,0,.25);\n  --rm-chip-bg:#f1f1f1; --rm-chip-text:#333;\n  --rm-primary:#9dc888; --rm-dark:#111; --rm-muted:#7a7a7a; --rm-border:#e9e9e9;\n  --rm-scale:1;\n}\n.rm.hidden{display:none;}\n.rm{position:fixed; inset:0; z-index:1000; display:grid; place-items:center;}\n.rm__backdrop{position:absolute; inset:0; background:rgba(0,0,0,.6); backdrop-filter:blur(2px);}\n.rm__card{\n  position:relative; width:531px; height:905px; background:#fff; border-radius:var(--rm-radius);\n  box-shadow:var(--rm-shadow); overflow:hidden; transform:scale(var(--rm-scale)); transform-origin:center center;\n  display:flex; flex-direction:column; will-change:transform;\n}\n.rm__close{position:absolute; top:10px; right:10px; width:36px; height:36px; border:0; border-radius:50%;\n  background:#eee; cursor:pointer; font-size:16px; z-index:3;}\n.rm__content{padding:18px; flex:1 1 auto; min-height:0; overflow:auto;}\n.rm__title{font-weight:800; font-size:20px; letter-spacing:.2px; text-transform:uppercase; margin:0 0 10px;}\n.rm__media{position:relative; width:100%; height:240px; border-radius:12px; overflow:hidden; background:#111;}\n.rm__media img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover;}\n.rm__play{position:absolute; inset:0; display:grid; place-items:center; cursor:pointer;}\n.rm__play svg{width:44px; height:44px; opacity:.95;}\n.rm__player{position:absolute; inset:0; background:#000;}\n.rm__player iframe{width:100%; height:100%; border:0;}\n.rm__player-close{position:absolute; top:8px; right:8px; width:32px; height:32px; border:0; border-radius:50%;\n  background:rgba(0,0,0,.6); color:#fff; cursor:pointer; z-index:4;}\n.rm__meta{display:flex; flex-wrap:wrap; gap:8px 10px; align-items:center; margin:10px 0 6px; color:var(--rm-muted); font-size:13px;}\n.rm__chips{display:flex; gap:6px; flex-wrap:wrap;}\n.rm__chip{background:var(--rm-chip-bg); color:var(--rm-chip-text); border-radius:999px; padding:3px 8px; font-size:11px; font-weight:600;}\n.rm__rating{display:flex; align-items:center; gap:6px;}\n.rm__rating .val{font-weight:700; font-size:14px;}\n.rm__stars{position:relative; font-size:16px; color:#cfcfcf; line-height:1;}\n.rm__stars .filled{position:absolute; left:0; top:0; white-space:nowrap; overflow:hidden; color:#ffc700; width:var(--rating,0%);}\n.rm__grid{display:grid; gap:12px; grid-template-columns:1fr; margin-top:6px;}\n.rm__table{border:1px solid var(--rm-border); border-radius:12px; overflow:hidden;}\n.rm__row{display:grid; grid-template-columns:1fr auto; gap:10px; padding:9px 12px; border-bottom:1px solid var(--rm-border);}\n.rm__row:last-child{border-bottom:0;}\n.rm__ing{font-weight:600; color:#111; font-size:14px;}\n.rm__measure{color:var(--rm-muted); font-size:13px;}\n.rm__instructions{margin-top:10px; color:#333; line-height:1.5; font-size:14px;}\n.rm__actions{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-start; margin-top:14px;}\n.rm__btn{display:inline-flex; align-items:center; gap:8px; padding:10px 16px; border-radius:999px; font-weight:700; cursor:pointer; border:1px solid transparent; font-size:14px;}\n.rm__btn--primary{background:var(--rm-primary); color:#fff;}\n.rm__btn--ghost{background:#fff; color:#111; border-color:var(--rm-primary);}\n.rm__heart{position:absolute; top:10px; left:10px; z-index:2; background:transparent; border:0; cursor:pointer;}\n.rm__heart svg{stroke:#fff; fill:rgba(255,255,255,.4); transition:.2s;}\n.rm__heart.active svg{fill:#ff6b6b; stroke:#ff6b6b;}\n`;\n\nfunction ensureStyles() {\n  // v2 id: önceki sürüm yüklüyse üzerine yazabilelim\n  const id = 'rm-styles-531x905';\n  if (document.getElementById(id)) return;\n  const style = createEl('style', { id });\n  style.textContent = cssText;\n  document.head.appendChild(style);\n}\n\n/* ================= Modal root ================= */\nfunction ensureModalRoot() {\n  let root = $('#recipe-modal');\n  if (root) return root;\n  root = createEl('div', {\n    id: 'recipe-modal',\n    class: 'rm hidden',\n    'aria-hidden': 'true',\n    role: 'dialog',\n    'aria-modal': 'true',\n  });\n  root.innerHTML = `\n    <div class=\"rm__backdrop\" data-close=\"true\"></div>\n    <div class=\"rm__card\" role=\"document\" aria-labelledby=\"rm-title\" style=\"--rm-scale:1\">\n      <button class=\"rm__close\" type=\"button\" aria-label=\"Close\" data-close=\"true\">✕</button>\n      <div id=\"rm-content\" class=\"rm__content\"></div>\n    </div>\n  `;\n  document.body.appendChild(root);\n  return root;\n}\n\n/* ================ Markup helpers ================ */\nfunction chipHtml(tags = []) {\n  if (!Array.isArray(tags)) return '';\n  return tags\n    .slice(0, 6)\n    .map(t => {\n      const name = typeof t === 'string' ? t : t.name ?? t.title ?? '';\n      return name ? `<span class=\"rm__chip\">#${name}</span>` : '';\n    })\n    .join('');\n}\nfunction ingHtml(ingredients = []) {\n  if (!Array.isArray(ingredients) || ingredients.length === 0) {\n    return `<div class=\"rm__row\"><span class=\"rm__ing\">Ingredients</span><span class=\"rm__measure\">—</span></div>`;\n  }\n  return ingredients\n    .map(\n      i => `\n    <div class=\"rm__row\">\n      <span class=\"rm__ing\">${i.name || i.title || '-'}</span>\n      <span class=\"rm__measure\">${i.measure || i.quantity || ''}</span>\n    </div>\n  `\n    )\n    .join('');\n}\nfunction starsHtml(rating = 0) {\n  const val = Math.max(0, Math.min(5, Number(rating) || 0));\n  const width = (val / 5) * 100;\n  return `\n    <div class=\"rm__rating\" style=\"--rating:${width}%\">\n      <span class=\"val\">${val.toFixed(1)}</span>\n      <div class=\"rm__stars\"><span>★★★★★</span><span class=\"filled\">★★★★★</span></div>\n    </div>\n  `;\n}\nfunction playIcon() {\n  return `\n    <svg viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\">\n      <circle cx=\"32\" cy=\"32\" r=\"30\" fill=\"white\" opacity=\".9\"></circle>\n      <polygon points=\"26,20 48,32 26,44\" fill=\"#111\"></polygon>\n    </svg>\n  `;\n}\nfunction toInstructionsHtml(instructions, description) {\n  if (Array.isArray(instructions))\n    return instructions.map(x => `<p>${String(x).trim()}</p>`).join('');\n  const text = (instructions || description || 'No instructions.')\n    .toString()\n    .trim();\n  return text.replace(/\\n/g, '<br>');\n}\nfunction getYouTubeId(url = '') {\n  try {\n    const u = new URL(url);\n    if (u.hostname.includes('youtu.be')) return u.pathname.slice(1);\n    if (u.searchParams.get('v')) return u.searchParams.get('v');\n    const m =\n      u.pathname.match(/\\/embed\\/([^/?#]+)/) ||\n      u.pathname.match(/\\/v\\/([^/?#]+)/);\n    return m ? m[1] : null;\n  } catch {\n    return null;\n  }\n}\n\n/* ================ Modal render ================ */\nfunction renderModal(recipe) {\n  const {\n    _id,\n    title,\n    thumb,\n    rating = 0,\n    time,\n    tags = [],\n    ingredients = [],\n    instructions = '',\n    description = '',\n    youtube,\n  } = recipe;\n  const favActive = isFavorite(_id) ? 'active' : '';\n\n  return `\n    <h3 id=\"rm-title\" class=\"rm__title\">${(\n      title || 'Recipe'\n    ).toUpperCase()}</h3>\n\n    <div class=\"rm__media\">\n      <img src=\"${thumb || ''}\" alt=\"${\n    title || 'Recipe image'\n  }\" loading=\"lazy\" />\n      ${\n        youtube\n          ? `<div class=\"rm__play\" data-play=\"yt\">${playIcon()}</div>`\n          : ''\n      }\n      <button class=\"rm__heart ${favActive}\" aria-label=\"Toggle favorite\" data-fav=\"${_id}\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n          <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"></path>\n        </svg>\n      </button>\n    </div>\n\n    <div class=\"rm__meta\">\n      <div class=\"rm__chips\">${chipHtml(tags)}</div>\n      ${starsHtml(rating)}\n      ${time ? `<span>• ${time} min</span>` : ''}\n    </div>\n\n    <div class=\"rm__grid\">\n      <div class=\"rm__table\">\n        ${ingHtml(ingredients)}\n      </div>\n    </div>\n\n    <div class=\"rm__instructions\">\n      ${toInstructionsHtml(instructions, description)}\n    </div>\n\n    <div class=\"rm__actions\">\n      <button class=\"rm__btn rm__btn--primary\" data-action=\"toggle-fav\" data-fav=\"${_id}\">\n        ${isFavorite(_id) ? 'Remove favorite' : 'Add to favorite'}\n      </button>\n      <button class=\"rm__btn rm__btn--ghost\" data-action=\"rate\" data-id=\"${_id}\">\n        Give a rating\n      </button>\n    </div>\n  `;\n}\nfunction skeleton() {\n  return `\n    <h3 class=\"rm__title\">Loading…</h3>\n    <div class=\"rm__media\"></div>\n    <div class=\"rm__meta\"></div>\n    <div class=\"rm__table\" style=\"height:160px;\"></div>\n    <div class=\"rm__instructions\" style=\"height:80px;\"></div>\n  `;\n}\n\n/* ============ Open/Close + Scaling ============ */\nlet modalRoot,\n  modalContent,\n  currentRecipe = null;\nlet resizeHandlerBound = null;\n\nfunction setModalScale() {\n  const card = $('.rm__card', modalRoot);\n  if (!card) return;\n  const vw = window.innerWidth,\n    vh = window.innerHeight;\n  const pad = 24; // güvenli kenarlar\n  const scale = Math.min((vw - pad * 2) / 531, (vh - pad * 2) / 905, 1);\n  card.style.setProperty('--rm-scale', String(Math.max(0.5, scale)));\n}\n\nfunction openModalWithId(id) {\n  ensureStyles();\n  modalRoot = ensureModalRoot();\n  modalContent = $('#rm-content', modalRoot);\n\n  modalContent.innerHTML = skeleton();\n  modalRoot.classList.remove('hidden');\n  modalRoot.setAttribute('aria-hidden', 'false');\n  lockScroll();\n\n  // scale ayarla ve dinleyiciyi bağla\n  setModalScale();\n  resizeHandlerBound = () => setModalScale();\n  window.addEventListener('resize', resizeHandlerBound);\n  window.addEventListener('keydown', onEsc);\n\n  fetchRecipeById(id)\n    .then(data => {\n      currentRecipe = data;\n      modalContent.innerHTML = renderModal(data);\n    })\n    .catch(err => {\n      console.error(err);\n      currentRecipe = null;\n      modalContent.innerHTML = `\n        <h3 class=\"rm__title\">Error</h3>\n        <p>Recipe details could not be loaded. Please try again.</p>\n        <div class=\"rm__actions\">\n          <button class=\"rm__btn rm__btn--primary\" data-close=\"true\">Close</button>\n        </div>\n      `;\n    });\n}\n\nfunction closeModal() {\n  if (!modalRoot) return;\n  modalRoot.classList.add('hidden');\n  modalRoot.setAttribute('aria-hidden', 'true');\n  $('#rm-content', modalRoot).innerHTML = '';\n  currentRecipe = null;\n  unlockScroll();\n  window.removeEventListener('keydown', onEsc);\n  if (resizeHandlerBound)\n    window.removeEventListener('resize', resizeHandlerBound);\n}\nfunction onEsc(e) {\n  if (e.key === 'Escape') closeModal();\n}\n\n/* ============ Events ============ */\n// Modal içi tıklamalar\ndocument.addEventListener('click', e => {\n  // Modal açıksa\n  if (modalRoot && !modalRoot.classList.contains('hidden')) {\n    const t = e.target;\n\n    if (t.closest('[data-close=\"true\"]') || t.closest('.rm__backdrop')) {\n      closeModal();\n      return;\n    }\n\n    // Favorite toggle (modal heart + primary button)\n    const favBtn = t.closest('[data-fav]');\n    if (favBtn && currentRecipe) {\n      toggleFavorite(currentRecipe);\n      const id = currentRecipe._id;\n      const heart = $('.rm__heart', modalRoot);\n      if (heart) heart.classList.toggle('active', isFavorite(id));\n      const toggleBtn = $('[data-action=\"toggle-fav\"]', modalRoot);\n      if (toggleBtn)\n        toggleBtn.textContent = isFavorite(id)\n          ? 'Remove favorite'\n          : 'Add to favorite';\n      const cardHeart = document.querySelector(\n        `.recipe-card[data-id=\"${id}\"] .heart-btn`\n      );\n      if (cardHeart) cardHeart.classList.toggle('active', isFavorite(id));\n      return;\n    }\n\n    // Rate placeholder\n    const rateBtn = t.closest('[data-action=\"rate\"]');\n    if (rateBtn) {\n      alert('Rating flow coming soon ✨');\n      return;\n    }\n\n    // YouTube in-modal player\n    const play = t.closest('[data-play=\"yt\"]');\n    if (play && currentRecipe?.youtube) {\n      const id = getYouTubeId(currentRecipe.youtube);\n      if (!id) return;\n      const media = $('.rm__media', modalRoot);\n      if (!media || media.querySelector('.rm__player')) return;\n      const player = createEl('div', { class: 'rm__player' });\n      player.innerHTML = `\n        <button class=\"rm__player-close\" aria-label=\"Close video\">✕</button>\n        <iframe\n          src=\"https://www.youtube.com/embed/${id}?autoplay=1&rel=0&playsinline=1\"\n          title=\"YouTube video player\"\n          allow=\"autoplay; encrypted-media; picture-in-picture\"\n          allowfullscreen\n        ></iframe>`;\n      media.appendChild(player);\n      return;\n    }\n\n    // Close player\n    if (t.closest('.rm__player-close')) {\n      const p = t.closest('.rm__player');\n      if (p) p.remove();\n      return;\n    }\n  }\n});\n\n// Mevcut koda dokunmadan: \"See recipe\" butonuna bağlan\ndocument.addEventListener('click', e => {\n  const btn = e.target.closest('.recipe-card-button');\n  if (!btn) return;\n  const card = btn.closest('.recipe-card');\n  if (!card) return;\n  const id = card.dataset.id;\n  if (!id) return;\n  openModalWithId(id);\n});\n","const teamBtn = document.getElementById('team-btn');\nconst teamModal = document.getElementById('team-modal');\nconst modalClose = document.getElementById('modal-close');\n\nlet currentSlide = 0;\n\nfunction showSlide(index) {\n  const slides = document.querySelectorAll('.slide');\n  slides.forEach((slide, i) => {\n    slide.classList.remove('active');\n    if (i === index) {\n      slide.classList.add('active');\n    }\n  });\n}\n\nteamBtn.addEventListener('click', () => {\n  currentSlide = 0;\n  showSlide(currentSlide);\n  teamModal.style.display = 'flex';\n});\n\nmodalClose.addEventListener('click', () => {\n  teamModal.style.display = 'none';\n});\n\nwindow.addEventListener('keydown', e => {\n  if (e.key === 'Escape') {\n    teamModal.style.display = 'none';\n  }\n});\n\nteamModal.addEventListener('click', e => {\n  if (e.target === teamModal) {\n    teamModal.style.display = 'none';\n  }\n});\n\ndocument.querySelector('.prev-slide').addEventListener('click', () => {\n  const slides = document.querySelectorAll('.slide');\n  currentSlide = (currentSlide - 1 + slides.length) % slides.length;\n  showSlide(currentSlide);\n});\n\ndocument.querySelector('.next-slide').addEventListener('click', () => {\n  const slides = document.querySelectorAll('.slide');\n  currentSlide = (currentSlide + 1) % slides.length;\n  showSlide(currentSlide);\n});\n"],"names":["menuIcon","navMenu","navCloseBtn","desktopToggle","mobileToggle","setTheme","dark","FAVORITES_KEY","getFavorites","saveFavorites","favorites","toggleFavorite","recipe","fav","updated","isFavorite","recipeId","API_BASE","$","sel","root","createEl","tag","attrs","el","k","v","lockScroll","unlockScroll","fetchRecipeById","id","res","cssText","ensureStyles","style","ensureModalRoot","chipHtml","tags","name","ingHtml","ingredients","i","starsHtml","rating","val","playIcon","toInstructionsHtml","instructions","description","x","getYouTubeId","url","u","m","renderModal","_id","title","thumb","time","youtube","favActive","skeleton","modalRoot","modalContent","currentRecipe","resizeHandlerBound","setModalScale","card","vw","vh","pad","scale","openModalWithId","onEsc","data","err","closeModal","heart","toggleBtn","cardHeart","media","player","p","btn","teamBtn","teamModal","modalClose","currentSlide","showSlide","index","slide","slides"],"mappings":"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"}