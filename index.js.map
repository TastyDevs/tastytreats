{"version":3,"file":"index.js","sources":["../src/api/tastyTreatsApi.js","../src/js/recipes-categories.js","../src/js/popular-recipes.js","../src/js/recipes-filter.js","../src/utils/localFavorites.js","../src/js/recipes.js"],"sourcesContent":["const BASE_URL = 'https://tasty-treats-backend.p.goit.global/api';\n\n//  Etkinlikler\nexport async function fetchEvents() {\n  const res = await fetch(`${BASE_URL}/events`);\n  return await res.json();\n}\n\n//  Tüm kategorileri getir\nexport async function fetchCategories() {\n  const res = await fetch(`${BASE_URL}/categories`);\n  return await res.json();\n}\n\n//  Filtreli tarifleri getir (opsiyonel parametreler)\nexport async function fetchFilteredRecipes({\n  category = '',\n  page = 1,\n  limit = 6,\n  time = '',\n  area = '',\n  ingredient = '',\n} = {}) {\n  const url = new URL(`${BASE_URL}/recipes`);\n  if (category) url.searchParams.append('category', category);\n  if (page) url.searchParams.append('page', page);\n  if (limit) url.searchParams.append('limit', limit);\n  if (time) url.searchParams.append('time', time);\n  if (area) url.searchParams.append('area', area);\n  if (ingredient) url.searchParams.append('ingredient', ingredient);\n\n  const res = await fetch(url);\n  return await res.json();\n}\n\n//  Popüler tarifleri getir\nexport async function fetchPopularRecipes() {\n  const res = await fetch(`${BASE_URL}/recipes/popular`);\n  return await res.json();\n}\n\n//  Belirli tarifin detayını getir\nexport async function fetchRecipeDetails(recipeId) {\n  const res = await fetch(`${BASE_URL}/recipes/${recipeId}`);\n  return await res.json();\n}\n\n//  Belirli tarife puan ver\nexport async function rateRecipe(recipeId, rating) {\n  const res = await fetch(`${BASE_URL}/recipes/${recipeId}/rating`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ rating }),\n  });\n  return await res.json();\n}\n\n//  Tüm malzemeleri getir\nexport async function fetchIngredients() {\n  const res = await fetch(`${BASE_URL}/ingredients`);\n  return await res.json();\n}\n\n//  Tüm bölgeleri getir\nexport async function fetchAreas() {\n  const res = await fetch(`${BASE_URL}/areas`);\n  return await res.json();\n}\n\n//  Sipariş oluştur\nexport async function createOrder(orderData) {\n  const res = await fetch(`${BASE_URL}/orders`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(orderData),\n  });\n  return await res.json();\n}\n","import { fetchFilteredRecipes, fetchCategories } from '../api/tastyTreatsApi.js';\n\nconst recipesContainer = document.querySelector('#recipes-container');\nconst paginationContainer = document.querySelector('#pagination');\nconst categoryList = document.querySelector('#category-list');\nconst allCategoriesBtn = document.querySelector('.categories-box'); // DÜZENLENDİ\n\nlet currentPage = 1;\nlet totalPages = 1;\nlet selectedCategory = null;\nlet limit = calculateLimit();\n\nfunction calculateLimit() {\n  const width = window.innerWidth;\n  if (width < 768) return 6;\n  if (width < 1280) return 8;\n  return 9;\n}\n\nasync function loadCategories() {\n  try {\n    const categories = await fetchCategories();\n\n    const markup = categories\n      .map(\n        cat => `\n        <li>\n          <button \n            class=\"category-btn ${cat.name === selectedCategory ? 'active' : ''}\" \n            data-category=\"${cat.name}\">\n            ${cat.name}\n          </button>\n        </li>`\n      )\n      .join('');\n\n    categoryList.innerHTML = markup;\n\n    const categoryButtons = categoryList.querySelectorAll('.category-btn');\n\n    categoryButtons.forEach(btn => {\n      btn.addEventListener('click', () => {\n        const newCategory = btn.dataset.category;\n\n        if (newCategory !== selectedCategory) {\n          selectedCategory = newCategory;\n          currentPage = 1;\n\n          // Aktif class'ları temizle\n          categoryButtons.forEach(b => b.classList.remove('active'));\n          allCategoriesBtn.classList.remove('active');\n\n          // Seçilen kategoriyi aktif yap\n          btn.classList.add('active');\n\n          loadAndDisplayRecipes(currentPage);\n        }\n      });\n    });\n  } catch (error) {\n    console.error('Failed to load categories:', error);\n  }\n}\n\n// All categories butonuna click eventi\nif (allCategoriesBtn) {\n  allCategoriesBtn.addEventListener('click', () => {\n    if (selectedCategory !== null) {\n      selectedCategory = null;\n      currentPage = 1;\n\n      // Aktif class'ları temizle\n      const categoryButtons = categoryList.querySelectorAll('.category-btn');\n      categoryButtons.forEach(btn => btn.classList.remove('active'));\n\n      allCategoriesBtn.classList.add('active');\n\n      loadAndDisplayRecipes(currentPage);\n    }\n  });\n}\n\nasync function loadAndDisplayRecipes(page = 1) {\n  try {\n    limit = calculateLimit();\n    const response = await fetchFilteredRecipes({\n      page,\n      limit,\n      category: selectedCategory || undefined,\n    });\n\n    const recipes = response.results;\n    totalPages =\n      response.totalPages || Math.ceil(response.totalResults / limit);\n\n    if (!recipes || recipes.length === 0) {\n      recipesContainer.innerHTML = '<p>No recipes found to display.</p>';\n      paginationContainer.innerHTML = '';\n      return;\n    }\n\n    const recipesMarkup = recipes\n      .map(recipe => {\n        const ratingValue = (recipe.rating / 5) * 100;\n        return `\n        <div class=\"recipe-card\" data-id=\"${recipe._id}\">\n          <button class=\"heart-btn\" aria-label=\"Add to favorites\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"></path>\n            </svg>\n          </button>\n          <img class=\"recipe-card-image\" src=\"${recipe.thumb}\" alt=\"${\n          recipe.title\n        }\" loading=\"lazy\">\n          <div class=\"recipe-card-details\">\n            <h3 class=\"recipe-card-title\">${recipe.title}</h3>\n            <p class=\"recipe-card-description\">${recipe.description}</p>\n            <div class=\"recipe-card-footer\">\n              <div class=\"recipe-card-rating\">\n                <span class=\"rating-value\">${recipe.rating.toFixed(1)}</span>\n                <div class=\"rating-stars\" style=\"--rating: ${ratingValue}%\">\n                  <span>★★★★★</span>\n                  <span class=\"stars-filled\">★★★★★</span>\n                </div>\n              </div>\n              <button class=\"recipe-card-button\" type=\"button\">See recipe</button>\n            </div>\n          </div>\n        </div>`;\n      })\n      .join('');\n\n\n    recipesContainer.innerHTML = recipesMarkup;\n    renderPagination(totalPages, page);\n  } catch (error) {\n    console.error('An error occurred while loading recipes:', error);\n    recipesContainer.innerHTML =\n      '<p>The recipes could not be loaded. Please try again later.</p>';\n    paginationContainer.innerHTML = '';\n  }\n}\n\nfunction renderPagination(total, current) {\n  let buttonsMarkup = '';\n  for (let i = 1; i <= total; i++) {\n    buttonsMarkup += `<button class=\"pagination-btn ${i === current ? 'active' : ''}\" data-page=\"${i}\">${i}</button>`;\n  }\n\n  paginationContainer.innerHTML = buttonsMarkup;\n\n  const allButtons = paginationContainer.querySelectorAll('.pagination-btn');\n  allButtons.forEach(btn => {\n    btn.addEventListener('click', () => {\n      const selectedPage = Number(btn.dataset.page);\n      if (selectedPage !== currentPage) {\n        currentPage = selectedPage;\n        loadAndDisplayRecipes(currentPage);\n      }\n    });\n  });\n}\n\nwindow.addEventListener('resize', () => {\n  const newLimit = calculateLimit();\n  if (newLimit !== limit) {\n    currentPage = 1;\n    loadAndDisplayRecipes(currentPage);\n  }\n});\n\n// İlk yükleme\nloadCategories();\nloadAndDisplayRecipes();\n","import { fetchPopularRecipes } from '../api/tastyTreatsApi.js';\n\nconst popularRecipeContainer = document.querySelector(\n  '.popular-recipe-wrapper'\n);\n\nconsole.log(fetchPopularRecipes());\n\nasync function displayPopularRecipes() {\n  try {\n    popularRecipeContainer.innerHTML = `<p>Loading recipes...</p>`;\n\n    const recipes = await fetchPopularRecipes();\n\n    if (!recipes || recipes.length === 0) {\n      popularRecipeContainer.innerHTML = `<p>No popular recipes found!</p>`;\n      return;\n    }\n    const markup = recipes\n      .map(recipe => {\n        return `\n    <div class=\"popular-recipes-card\" data-id=\"${recipe._id}\">\n    <img class=\"popular-recipes-image\" src=\"${recipe.preview}\" alt=\"${recipe.title}\" />\n    <div class=\"popular-recipes-info\">\n    <h3 class=\"popular-recipes-title recipe-title\">${recipe.title}</h3>\n      <p class=\"popular-recipes-description popular-recipe-text \">${recipe.description}</p>\n      </div>\n    </div>\n  `;\n      })\n      .join('');\n\n    popularRecipeContainer.innerHTML = markup;\n  } catch (error) {\n    console.error('Failed to fetch popular recipes:', error);\n    popularRecipeContainer.innerHTML = `<p>Sorry, we could not load the recipes at this time</p>`;\n  }\n}\ndisplayPopularRecipes();\n","let fetchFilteredRecipes, fetchAreas, fetchIngredients;\n\nasync function loadApi() {\n  const candidates = [\n    '../api/tastyTreatsApi.js', // js -> api\n  ];\n  for (const spec of candidates) {\n    try {\n      const m = await import(spec);\n      ({ fetchFilteredRecipes, fetchAreas, fetchIngredients } = m);\n      console.log('[filters] API loaded from', spec);\n      return;\n    } catch (_) {}\n  }\n  throw new Error('API module not found. Check tastyTreatsApi.js path.');\n}\n\n// Elementler (sadece #recipes-flex'e bas)\nconst root = document.querySelector('.filters');\nif (!root) console.warn('[filters] .filters bulunamadı.');\n\nconst el = {\n  search: root?.querySelector('.filter-input'),\n  searchBtn: root?.querySelector('.search-btn'),\n  resetBtn: root?.querySelector('.reset-filter'),\n  dropdowns: [...(root?.querySelectorAll('.custom-dropdown') ?? [])],\n  recipes: document.getElementById('recipes-flex'),\n};\n\nconst USE_LOCAL_RENDER = !!el.recipes;\n\n// Durum\nconst state = {\n  query: '',\n  time: '', // dakika (string \"40\")\n  area: '', // \"Italian\"\n  ingredient: '', // API'ye _id\n  ingredientLabel: '', // toggle göstermek için\n  page: 1,\n  limit: 6,\n  loading: false,\n};\n\nconst timeOptions = ['10 min', '20 min', '30 min', '40 min'];\n\n// Loading sadece gösterirken yazsın\nfunction setLoading(isLoading) {\n  state.loading = isLoading;\n  if (!USE_LOCAL_RENDER || !el.recipes) return;\n  if (isLoading)\n    el.recipes.innerHTML = `<div class=\"recipes-loading\">Loading...</div>`;\n}\n\nfunction parseTimeLabelToMinutes(label) {\n  const m = String(label).match(/\\d+/);\n  return m ? m[0] : '';\n}\n\nfunction closeAllMenus(except) {\n  el.dropdowns.forEach(dd => {\n    if (dd !== except) dd.classList.remove('open');\n  });\n}\n\n// Dropdown verileri\nasync function initDropdowns() {\n  // Time (statik)\n  populateDropdown(\n    'time',\n    timeOptions.map(t => ({ value: parseTimeLabelToMinutes(t), label: t }))\n  );\n\n  // Area (isimle)\n  try {\n    const areas = await fetchAreas();\n    const list = (Array.isArray(areas) ? areas : [])\n      .map(a => (typeof a === 'string' ? a : a?.name))\n      .filter(Boolean)\n      .map(name => ({ value: name, label: name }));\n    populateDropdown('area', list);\n  } catch (e) {\n    console.error('Areas yüklenemedi', e);\n    populateDropdown('area', []);\n  }\n\n  // Ingredient (_id gönder, label name)\n  try {\n    const ingredients = await fetchIngredients();\n    const list = (Array.isArray(ingredients) ? ingredients : [])\n      .filter(i => i?._id && i?.name)\n      .map(i => ({ value: i._id, label: i.name }));\n    populateDropdown('ingredient', list);\n  } catch (e) {\n    console.error('Ingredients yüklenemedi', e);\n    populateDropdown('ingredient', []);\n  }\n}\n\n// Genel dropdown\nfunction populateDropdown(type, items /* [{value,label}] */) {\n  const dd = el.dropdowns.find(d => d.dataset.type === type);\n  if (!dd) return;\n  const menu = dd.querySelector('.dropdown-menu');\n  const toggle = dd.querySelector('.dropdown-toggle');\n  if (!menu || !toggle) return;\n\n  // SADECE gerçek seçenekler\n  menu.innerHTML = (items || [])\n    .map(\n      opt =>\n        `<li><button type=\"button\" data-value=\"${escapeHtml(\n          opt.value\n        )}\" data-label=\"${escapeHtml(opt.label)}\">${escapeHtml(\n          opt.label\n        )}</button></li>`\n    )\n    .join('');\n\n  // Aç/Kapat\n  toggle.addEventListener('click', () => {\n    const willOpen = !dd.classList.contains('open');\n    closeAllMenus();\n    dd.classList.toggle('open', willOpen);\n  });\n\n  // Seçim\n  menu.addEventListener('click', e => {\n    const btn = e.target.closest('button[data-value]');\n    if (!btn) return;\n    const value = btn.getAttribute('data-value') ?? '';\n    const label = btn.getAttribute('data-label') ?? btn.textContent.trim();\n\n    if (type === 'time') {\n      state.time = value;\n    } else if (type === 'area') {\n      state.area = label;\n    } else if (type === 'ingredient') {\n      state.ingredient = value;\n      state.ingredientLabel = label;\n    }\n\n    toggle.textContent = label;\n    dd.classList.remove('open');\n    state.page = 1;\n    applyFilters();\n  });\n}\n\n// Dışarı tık + Esc ile kapat\ndocument.addEventListener('click', e => {\n  const current = e.target.closest('.custom-dropdown');\n  if (!current) return closeAllMenus();\n  el.dropdowns.forEach(dd => {\n    if (dd !== current) dd.classList.remove('open');\n  });\n});\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape') closeAllMenus();\n});\n\n// Search\nfunction initSearch() {\n  if (!el.search || !el.searchBtn) return;\n  const run = () => {\n    state.query = el.search.value.trim();\n    state.page = 1;\n    applyFilters();\n  };\n  el.searchBtn.addEventListener('click', run);\n  el.search.addEventListener('keydown', e => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      run();\n    }\n  });\n}\n\n//  Reset (yalnızca state’i temizle)\nfunction initReset() {\n  if (!el.resetBtn) return;\n  el.resetBtn.addEventListener('click', () => {\n    state.query = '';\n    state.time = '';\n    state.area = '';\n    state.ingredient = '';\n    state.ingredientLabel = '';\n    state.page = 1;\n    if (el.search) el.search.value = '';\n    applyFilters();\n  });\n}\n\n// ---- Fetch + render (+ timeout)\nconst FETCH_TIMEOUT_MS = 10000;\nconst withTimeout = (p, ms = FETCH_TIMEOUT_MS) =>\n  Promise.race([\n    p,\n    new Promise((_, r) =>\n      setTimeout(() => r(new Error('REQUEST_TIMEOUT')), ms)\n    ),\n  ]);\n\nasync function applyFilters() {\n  try {\n    setLoading(true);\n\n    const { time, area, ingredient, page, limit } = state;\n    const data = await withTimeout(\n      fetchFilteredRecipes({ time, area, ingredient, page, limit })\n    );\n\n    const list = Array.isArray(data?.results)\n      ? data.results\n      : Array.isArray(data)\n      ? data\n      : Array.isArray(data?.recipes)\n      ? data.recipes\n      : [];\n\n    const q = state.query.toLowerCase();\n    const filtered = q\n      ? list.filter(r =>\n          String(r.title || '')\n            .toLowerCase()\n            .includes(q)\n        )\n      : list;\n\n    if (USE_LOCAL_RENDER) {\n      renderRecipes(filtered);\n      if (!filtered.length && el.recipes)\n        el.recipes.innerHTML = '<p class=\"no-results\">No recipes found</p>';\n    }\n\n    document.dispatchEvent(\n      new CustomEvent('recipes:filtered', {\n        detail: { recipes: filtered, paging: { page, limit }, raw: data },\n      })\n    );\n  } catch (err) {\n    console.error('[filters] applyFilters error:', err?.message || err);\n    if (USE_LOCAL_RENDER && el.recipes) {\n      el.recipes.innerHTML =\n        err?.message === 'REQUEST_TIMEOUT'\n          ? `<p class=\"no-results\">İstek zaman aşımına uğradı. Lütfen tekrar deneyin.</p>`\n          : `<p class=\"no-results\">Bir şeyler ters gitti. Lütfen tekrar deneyin.</p>`;\n    }\n    document.dispatchEvent(\n      new CustomEvent('recipes:filtered', {\n        detail: {\n          recipes: [],\n          error: true,\n          reason: err?.message || String(err),\n        },\n      })\n    );\n  } finally {\n    setLoading(false); // DOM'u silmiyor\n  }\n}\n\nfunction renderRecipes(items) {\n  if (!el.recipes) return;\n  if (!items?.length) {\n    el.recipes.innerHTML = '';\n    return;\n  }\n\n  const html = items\n    .map(rec => {\n      const {\n        _id,\n        title = 'Untitled',\n        time = '',\n        rating = '',\n        preview,\n        thumb,\n        description = '',\n      } = rec;\n      const img = preview || thumb || '';\n      return `\n      <article class=\"recipe-card\" data-id=\"${_id || ''}\">\n        <div class=\"recipe-thumb\">\n          ${\n            img\n              ? `<img src=\"${img}\" alt=\"${escapeHtml(title)}\" loading=\"lazy\">`\n              : ''\n          }\n        </div>\n        <div class=\"recipe-body\">\n          <h3 class=\"recipe-title\">${escapeHtml(title)}</h3>\n          <div class=\"recipe-meta\">\n            ${time ? `<span class=\"badge time\">${time} min</span>` : ''}\n            ${rating ? `<span class=\"badge rating\">★ ${rating}</span>` : ''}\n          </div>\n          ${\n            description\n              ? `<p class=\"recipe-desc\">${escapeHtml(description)}</p>`\n              : ''\n          }\n        </div>\n      </article>`;\n    })\n    .join('');\n\n  el.recipes.innerHTML = html;\n}\n\nfunction escapeHtml(s) {\n  return String(s)\n    .replaceAll('&', '&amp;')\n    .replaceAll('<', '&lt;')\n    .replaceAll('>', '&gt;')\n    .replaceAll('\"', '&quot;')\n    .replaceAll(\"'\", '&#39;');\n}\n\n// ---- Başlat\n(async function init() {\n  try {\n    await loadApi(); //\n    await initDropdowns();\n    initSearch();\n    initReset();\n    await applyFilters();\n  } catch (e) {\n    console.error('[filters] init error:', e);\n    if (el.recipes)\n      el.recipes.innerHTML = `<p class=\"no-results\">Bir şeyler ters gitti. Lütfen tekrar deneyin.</p>`;\n  }\n})();\n","const FAVORITES_KEY = 'favoriteRecipes';\n\nexport function getFavorites() {\n  try {\n    return JSON.parse(localStorage.getItem(FAVORITES_KEY)) || [];\n  } catch (e) {\n    return [];\n  }\n}\n\nexport function saveFavorites(favorites) {\n  localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));\n}\n\nexport function toggleFavorite(recipe) {\n  const favorites = getFavorites();\n  const exists = favorites.some(fav => fav._id === recipe._id);\n\n  if (exists) {\n    const updated = favorites.filter(fav => fav._id !== recipe._id);\n    saveFavorites(updated);\n  } else {\n    favorites.push(recipe);\n    saveFavorites(favorites);\n  }\n}\n\nexport function isFavorite(recipeId) {\n  const favorites = getFavorites();\n  return favorites.some(fav => fav._id === recipeId);\n}\n","import { fetchFilteredRecipes } from '../api/tastyTreatsApi.js';\nimport { toggleFavorite, isFavorite } from '../utils/localFavorites.js';\n\nconst recipesContainer = document.querySelector('#recipes-container');\nconst paginationContainer = document.querySelector('#pagination');\n\nlet currentPage = 1;\nlet totalPages = 1;\nlet limit = calculateLimit();\n\nfunction debounce(func, delay = 250) {\n  let timeoutId;\n  return function (...args) {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => {\n      func.apply(this, args);\n    }, delay);\n  };\n}\n\nfunction calculateLimit() {\n  const width = window.innerWidth;\n  if (width < 768) return 6;\n  if (width < 1280) return 8;\n  return 9;\n}\n\nasync function loadAndDisplayRecipes(page = 1) {\n  try {\n    limit = calculateLimit();\n    const response = await fetchFilteredRecipes({ page, limit });\n    const recipes = response.results;\n    totalPages =\n      response.totalPages || Math.ceil(response.totalResults / limit);\n\n    if (!recipes || recipes.length === 0) {\n      recipesContainer.innerHTML = '<p>No recipes found to display.</p>';\n      paginationContainer.innerHTML = '';\n      return;\n    }\n\n    const recipesMarkup = recipes\n      .map(recipe => {\n        const ratingValue = (recipe.rating / 5) * 100;\n        const isActive = isFavorite(recipe._id) ? 'active' : '';\n        return `\n        <div class=\"recipe-card\" data-id=\"${recipe._id}\">\n          <button class=\"heart-btn ${isActive}\" aria-label=\"Add to favorites\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"></path>\n            </svg>\n          </button>\n          <img class=\"recipe-card-image\" src=\"${recipe.thumb}\" alt=\"${\n          recipe.title\n        }\" loading=\"lazy\">\n          <div class=\"recipe-card-details\">\n            <h3 class=\"recipe-card-title\">${recipe.title}</h3>\n            <p class=\"recipe-card-description\">${recipe.description}</p>\n            <div class=\"recipe-card-footer\">\n              <div class=\"recipe-card-rating\">\n                <span class=\"rating-value\">${recipe.rating.toFixed(1)}</span>\n                <div class=\"rating-stars\" style=\"--rating: ${ratingValue}%\">\n                  <span>★★★★★</span>\n                  <span class=\"stars-filled\">★★★★★</span>\n                </div>\n              </div>\n              <button class=\"recipe-card-button\" type=\"button\">See recipe</button>\n            </div>\n          </div>\n        </div>`;\n      })\n      .join('');\n\n    recipesContainer.innerHTML = recipesMarkup;\n    renderPagination(totalPages, page);\n  } catch (error) {\n    console.error('An error occurred while loading recipes:', error);\n    recipesContainer.innerHTML =\n      '<p>The recipes could not be loaded. Please try again later.</p>';\n    paginationContainer.innerHTML = '';\n  }\n}\n\npaginationContainer.addEventListener('click', event => {\n  const btn = event.target.closest('.pagination-btn');\n  if (!btn || btn.disabled || !btn.dataset.page) return;\n\n  const selectedPage = Number(btn.dataset.page);\n  if (selectedPage !== currentPage) {\n    currentPage = selectedPage;\n    loadAndDisplayRecipes(currentPage);\n  }\n});\n\nrecipesContainer.addEventListener('click', event => {\n  const heartBtn = event.target.closest('.heart-btn');\n  if (!heartBtn) return;\n\n  const recipeCard = heartBtn.closest('.recipe-card');\n  const recipeId = recipeCard.dataset.id;\n  toggleFavorite({ _id: recipeId });\n  heartBtn.classList.toggle('active');\n});\n\nfunction renderPagination(totalPages, currentPage) {\n  let markup = '';\n  const pagesToShow = 1;\n  const arrowClassesPrev = 'pagination-btn arrow-btn arrow-prev';\n  const arrowClassesNext = 'pagination-btn arrow-btn arrow-next';\n  markup += `<button class=\"${arrowClassesPrev}\" data-page=\"1\" ${\n    currentPage === 1 ? 'disabled' : ''\n  }>\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"11 17 6 12 11 7\"></polyline><polyline points=\"18 17 13 12 18 7\"></polyline></svg>\n  </button>`;\n  markup += `<button class=\"${arrowClassesPrev}\" data-page=\"${\n    currentPage - 1\n  }\" ${currentPage === 1 ? 'disabled' : ''}>\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"15 18 9 12 15 6\"></polyline></svg>\n  </button>`;\n  if (totalPages > 1) {\n    if (currentPage > pagesToShow + 2) {\n      markup += `<button class=\"pagination-btn page-btn\" data-page=\"1\">1</button>`;\n      markup += `<button class=\"pagination-btn dots\">...</button>`;\n    }\n    for (\n      let i = Math.max(1, currentPage - pagesToShow);\n      i <= Math.min(totalPages, currentPage + pagesToShow);\n      i++\n    ) {\n      if (i === 1 && currentPage > pagesToShow + 2) continue;\n      if (i === totalPages && currentPage < totalPages - pagesToShow - 1)\n        continue;\n\n      markup += `<button class=\"pagination-btn page-btn ${\n        i === currentPage ? 'active' : ''\n      }\" data-page=\"${i}\">${i}</button>`;\n    }\n    if (currentPage < totalPages - pagesToShow - 1) {\n      markup += `<button class=\"pagination-btn dots\">...</button>`;\n      markup += `<button class=\"pagination-btn page-btn\" data-page=\"${totalPages}\">${totalPages}</button>`;\n    }\n  }\n  markup += `<button class=\"${arrowClassesNext}\" data-page=\"${\n    currentPage + 1\n  }\" ${currentPage === totalPages ? 'disabled' : ''}>\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"9 18 15 12 9 6\"></polyline></svg>\n  </button>`;\n  markup += `<button class=\"${arrowClassesNext}\" data-page=\"${totalPages}\" ${\n    currentPage === totalPages ? 'disabled' : ''\n  }>\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"13 17 18 12 13 7\"></polyline><polyline points=\"6 17 11 12 6 7\"></polyline></svg>\n  </button>`;\n\n  paginationContainer.innerHTML = markup;\n}\n\nconst handleResize = debounce(() => {\n  const newLimit = calculateLimit();\n  if (newLimit !== limit) {\n    console.log(`Resize detected. New limit: ${newLimit}. Refetching...`);\n    currentPage = 1;\n    loadAndDisplayRecipes(currentPage);\n  }\n});\n\nwindow.addEventListener('resize', handleResize);\n\nloadAndDisplayRecipes();\n"],"names":["BASE_URL","fetchCategories","fetchFilteredRecipes","category","page","limit","time","area","ingredient","url","fetchPopularRecipes","recipesContainer","paginationContainer","categoryList","allCategoriesBtn","currentPage","totalPages","selectedCategory","calculateLimit","width","loadCategories","markup","cat","categoryButtons","btn","newCategory","b","loadAndDisplayRecipes","error","response","recipes","recipesMarkup","recipe","ratingValue","renderPagination","total","current","buttonsMarkup","selectedPage","popularRecipeContainer","displayPopularRecipes","fetchAreas","fetchIngredients","loadApi","candidates","spec","root","el","USE_LOCAL_RENDER","state","timeOptions","setLoading","isLoading","parseTimeLabelToMinutes","label","m","closeAllMenus","except","dd","initDropdowns","populateDropdown","t","areas","list","a","name","ingredients","i","type","items","d","menu","toggle","opt","escapeHtml","willOpen","e","value","applyFilters","initSearch","run","initReset","FETCH_TIMEOUT_MS","withTimeout","p","ms","_","r","data","q","filtered","renderRecipes","err","html","rec","_id","title","rating","preview","thumb","description","img","s","FAVORITES_KEY","getFavorites","saveFavorites","favorites","toggleFavorite","fav","updated","isFavorite","recipeId","debounce","func","delay","timeoutId","args","isActive","event","heartBtn","arrowClassesPrev","arrowClassesNext","handleResize","newLimit"],"mappings":"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"}